

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Device Model APIs &mdash; Project ACRN 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/acrn-custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Project ACRN 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Project ACRN APIs" href="index.html"/>
        <link rel="prev" title="Hypercall APIs" href="hypercall_api.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Project ACRN
          

          
            
            <img src="../_static/ACRNlogo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introducing Project ACRN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hypervisor_primer/index.html">Hypervisor Developer Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribution Guidelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Project ACRN APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hypercall_api.html">Hypercall APIs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Device Model APIs</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Project ACRN</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Project ACRN APIs</a> &raquo;</li>
        
      <li>Device Model APIs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="device-model-apis">
<span id="devicemodel-apis"></span><h1>Device Model APIs<a class="headerlink" href="#device-model-apis" title="Permalink to this headline">¶</a></h1>
<p>This section contains APIs for the SOS Device Model services.</p>
<dl class="group">
<dt>
<span class="target" id="group__acrn__virtio"></span><em>group</em> <code class="descname">acrn_virtio</code></dt>
<dd><p>virtio API </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Defines</p>
<dl class="macro">
<dt id="c.VRING_ALIGN">
<span class="target" id="group__acrn__virtio_1ga3981bf4a30cf9f0a1193bb54295c97a2"></span><code class="descname">VRING_ALIGN</code><a class="headerlink" href="#c.VRING_ALIGN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_DESC_F_NEXT">
<span class="target" id="group__acrn__virtio_1gac98030127cfdd5b7e53a4756a38d3e28"></span><code class="descname">VRING_DESC_F_NEXT</code><a class="headerlink" href="#c.VRING_DESC_F_NEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_DESC_F_WRITE">
<span class="target" id="group__acrn__virtio_1ga74fe2dbfe07fd3d386e87e7e7a921691"></span><code class="descname">VRING_DESC_F_WRITE</code><a class="headerlink" href="#c.VRING_DESC_F_WRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_DESC_F_INDIRECT">
<span class="target" id="group__acrn__virtio_1gafc65eafcfe7fbbc30877bb42a7c9f255"></span><code class="descname">VRING_DESC_F_INDIRECT</code><a class="headerlink" href="#c.VRING_DESC_F_INDIRECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_AVAIL_F_NO_INTERRUPT">
<span class="target" id="group__acrn__virtio_1ga64e9f121802a3edfb537d9f97c5f3cd6"></span><code class="descname">VRING_AVAIL_F_NO_INTERRUPT</code><a class="headerlink" href="#c.VRING_AVAIL_F_NO_INTERRUPT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_USED_F_NO_NOTIFY">
<span class="target" id="group__acrn__virtio_1gabdbff1789e8adeb8c2aa533d6096cafb"></span><code class="descname">VRING_USED_F_NO_NOTIFY</code><a class="headerlink" href="#c.VRING_USED_F_NO_NOTIFY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VRING_PAGE_BITS">
<span class="target" id="group__acrn__virtio_1gabaabd77bb08774d49fedd5e057fc51f3"></span><code class="descname">VRING_PAGE_BITS</code><a class="headerlink" href="#c.VRING_PAGE_BITS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_NET">
<span class="target" id="group__acrn__virtio_1ga0beb7a3f38c7f1bed049c379f6cbfc7c"></span><code class="descname">VIRTIO_TYPE_NET</code><a class="headerlink" href="#c.VIRTIO_TYPE_NET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_BLOCK">
<span class="target" id="group__acrn__virtio_1ga24b7c16e30ead5bca9959458ebfc2fc1"></span><code class="descname">VIRTIO_TYPE_BLOCK</code><a class="headerlink" href="#c.VIRTIO_TYPE_BLOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_CONSOLE">
<span class="target" id="group__acrn__virtio_1ga394471a939e6f456638864521b009cc3"></span><code class="descname">VIRTIO_TYPE_CONSOLE</code><a class="headerlink" href="#c.VIRTIO_TYPE_CONSOLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_ENTROPY">
<span class="target" id="group__acrn__virtio_1gae57867c86a855d7c04221c8510fb0886"></span><code class="descname">VIRTIO_TYPE_ENTROPY</code><a class="headerlink" href="#c.VIRTIO_TYPE_ENTROPY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_BALLOON">
<span class="target" id="group__acrn__virtio_1ga27d0c27d58dc098dc9d8cfa08c5b830f"></span><code class="descname">VIRTIO_TYPE_BALLOON</code><a class="headerlink" href="#c.VIRTIO_TYPE_BALLOON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_IOMEMORY">
<span class="target" id="group__acrn__virtio_1ga212a7fae9f122f9610931bfa9fed7fb7"></span><code class="descname">VIRTIO_TYPE_IOMEMORY</code><a class="headerlink" href="#c.VIRTIO_TYPE_IOMEMORY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_RPMSG">
<span class="target" id="group__acrn__virtio_1ga288acc45c91c00fcbd5a43b8c761ea6f"></span><code class="descname">VIRTIO_TYPE_RPMSG</code><a class="headerlink" href="#c.VIRTIO_TYPE_RPMSG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_SCSI">
<span class="target" id="group__acrn__virtio_1ga5b0a2b4da3f69d2fd3f5e6657f0127b7"></span><code class="descname">VIRTIO_TYPE_SCSI</code><a class="headerlink" href="#c.VIRTIO_TYPE_SCSI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_9P">
<span class="target" id="group__acrn__virtio_1ga25f48d58523cc070a1464f0c53f92052"></span><code class="descname">VIRTIO_TYPE_9P</code><a class="headerlink" href="#c.VIRTIO_TYPE_9P" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_RPMB">
<span class="target" id="group__acrn__virtio_1gad4eb455d9ae24ed228b1fc5af24513dd"></span><code class="descname">VIRTIO_TYPE_RPMB</code><a class="headerlink" href="#c.VIRTIO_TYPE_RPMB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_HECI">
<span class="target" id="group__acrn__virtio_1ga34d43ed492355c1aac6eff6ba31757a6"></span><code class="descname">VIRTIO_TYPE_HECI</code><a class="headerlink" href="#c.VIRTIO_TYPE_HECI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_AUDIO">
<span class="target" id="group__acrn__virtio_1gad9f068c5bf86599050f8d0a860f04a5e"></span><code class="descname">VIRTIO_TYPE_AUDIO</code><a class="headerlink" href="#c.VIRTIO_TYPE_AUDIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_IPU">
<span class="target" id="group__acrn__virtio_1ga9873b94a16e43b8588fcfbd099ceb46a"></span><code class="descname">VIRTIO_TYPE_IPU</code><a class="headerlink" href="#c.VIRTIO_TYPE_IPU" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_TSN">
<span class="target" id="group__acrn__virtio_1ga4ddca51b659cd25f9ab362848e643ba5"></span><code class="descname">VIRTIO_TYPE_TSN</code><a class="headerlink" href="#c.VIRTIO_TYPE_TSN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_HYPERDMABUF">
<span class="target" id="group__acrn__virtio_1gaff2b1bbd2758e9fba26dbe8e42ead3ae"></span><code class="descname">VIRTIO_TYPE_HYPERDMABUF</code><a class="headerlink" href="#c.VIRTIO_TYPE_HYPERDMABUF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_HDCP">
<span class="target" id="group__acrn__virtio_1ga4cb0fb3bae16eabadcd9659bcce2912f"></span><code class="descname">VIRTIO_TYPE_HDCP</code><a class="headerlink" href="#c.VIRTIO_TYPE_HDCP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_TYPE_COREU">
<span class="target" id="group__acrn__virtio_1ga40b115fb273e360e54d4c6e6290e365a"></span><code class="descname">VIRTIO_TYPE_COREU</code><a class="headerlink" href="#c.VIRTIO_TYPE_COREU" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.INTEL_VENDOR_ID">
<span class="target" id="group__acrn__virtio_1ga2a01aa0919e1184bb3eb893d0635d2e1"></span><code class="descname">INTEL_VENDOR_ID</code><a class="headerlink" href="#c.INTEL_VENDOR_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_VENDOR">
<span class="target" id="group__acrn__virtio_1ga91fb290485ba5f5aa72f98038a486422"></span><code class="descname">VIRTIO_VENDOR</code><a class="headerlink" href="#c.VIRTIO_VENDOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_NET">
<span class="target" id="group__acrn__virtio_1gaa216c03d5e5759f5fda91b3d88c059bc"></span><code class="descname">VIRTIO_DEV_NET</code><a class="headerlink" href="#c.VIRTIO_DEV_NET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_BLOCK">
<span class="target" id="group__acrn__virtio_1gaf9c5b1ef27a1fc1a6fa3e2184fa6ce01"></span><code class="descname">VIRTIO_DEV_BLOCK</code><a class="headerlink" href="#c.VIRTIO_DEV_BLOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_CONSOLE">
<span class="target" id="group__acrn__virtio_1gad253a30f29138057ad8146ae251be95d"></span><code class="descname">VIRTIO_DEV_CONSOLE</code><a class="headerlink" href="#c.VIRTIO_DEV_CONSOLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_RANDOM">
<span class="target" id="group__acrn__virtio_1ga796e8e41560cfa7eed23d7ae3e5c13c9"></span><code class="descname">VIRTIO_DEV_RANDOM</code><a class="headerlink" href="#c.VIRTIO_DEV_RANDOM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_RPMB">
<span class="target" id="group__acrn__virtio_1ga9ec5384e10f9131134fa0146ec65deab"></span><code class="descname">VIRTIO_DEV_RPMB</code><a class="headerlink" href="#c.VIRTIO_DEV_RPMB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_HECI">
<span class="target" id="group__acrn__virtio_1gaa7f37cc23d982bea1a97fb7fb8a21c9c"></span><code class="descname">VIRTIO_DEV_HECI</code><a class="headerlink" href="#c.VIRTIO_DEV_HECI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_AUDIO">
<span class="target" id="group__acrn__virtio_1gaec426f8bd03d9da7564dcf4897ecc354"></span><code class="descname">VIRTIO_DEV_AUDIO</code><a class="headerlink" href="#c.VIRTIO_DEV_AUDIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_IPU">
<span class="target" id="group__acrn__virtio_1ga6439fb190b6735773ea68321080f2519"></span><code class="descname">VIRTIO_DEV_IPU</code><a class="headerlink" href="#c.VIRTIO_DEV_IPU" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_TSN">
<span class="target" id="group__acrn__virtio_1ga26b81ea1cc433d97756705c9abb3daca"></span><code class="descname">VIRTIO_DEV_TSN</code><a class="headerlink" href="#c.VIRTIO_DEV_TSN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_HYPERDMABUF">
<span class="target" id="group__acrn__virtio_1ga9a7daa76131e954b7a981c24b8fae743"></span><code class="descname">VIRTIO_DEV_HYPERDMABUF</code><a class="headerlink" href="#c.VIRTIO_DEV_HYPERDMABUF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_HDCP">
<span class="target" id="group__acrn__virtio_1ga675e38f83d7fcd8e25f26f28bec42d5c"></span><code class="descname">VIRTIO_DEV_HDCP</code><a class="headerlink" href="#c.VIRTIO_DEV_HDCP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_DEV_COREU">
<span class="target" id="group__acrn__virtio_1gac0584f499d9642a4a55522f60e6692c4"></span><code class="descname">VIRTIO_DEV_COREU</code><a class="headerlink" href="#c.VIRTIO_DEV_COREU" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_HOSTCAP">
<span class="target" id="group__acrn__virtio_1gad653e703bb9fbc1b58017612a6f9dcab"></span><code class="descname">VIRTIO_CR_HOSTCAP</code><a class="headerlink" href="#c.VIRTIO_CR_HOSTCAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_GUESTCAP">
<span class="target" id="group__acrn__virtio_1ga35bd9b61109067b6e8949ae982bf35ca"></span><code class="descname">VIRTIO_CR_GUESTCAP</code><a class="headerlink" href="#c.VIRTIO_CR_GUESTCAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_PFN">
<span class="target" id="group__acrn__virtio_1ga55f712580cc4b632982ca318f4540cd8"></span><code class="descname">VIRTIO_CR_PFN</code><a class="headerlink" href="#c.VIRTIO_CR_PFN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_QNUM">
<span class="target" id="group__acrn__virtio_1gaa4ffc6aabc999fbb72a0ad38c774f877"></span><code class="descname">VIRTIO_CR_QNUM</code><a class="headerlink" href="#c.VIRTIO_CR_QNUM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_QSEL">
<span class="target" id="group__acrn__virtio_1ga37d58844cf49b26b721b2efa3866ba45"></span><code class="descname">VIRTIO_CR_QSEL</code><a class="headerlink" href="#c.VIRTIO_CR_QSEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_QNOTIFY">
<span class="target" id="group__acrn__virtio_1gaf9b3216d73328b8cae702ccaf943d5f7"></span><code class="descname">VIRTIO_CR_QNOTIFY</code><a class="headerlink" href="#c.VIRTIO_CR_QNOTIFY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_STATUS">
<span class="target" id="group__acrn__virtio_1gad1c360cfe2aa6f354e23de70996e7a52"></span><code class="descname">VIRTIO_CR_STATUS</code><a class="headerlink" href="#c.VIRTIO_CR_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_ISR">
<span class="target" id="group__acrn__virtio_1gac1ea1582edb81254c7fd756fe014d2e1"></span><code class="descname">VIRTIO_CR_ISR</code><a class="headerlink" href="#c.VIRTIO_CR_ISR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_CFGVEC">
<span class="target" id="group__acrn__virtio_1gab76822666021ea6e68dcbd9e5eb264a7"></span><code class="descname">VIRTIO_CR_CFGVEC</code><a class="headerlink" href="#c.VIRTIO_CR_CFGVEC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_QVEC">
<span class="target" id="group__acrn__virtio_1ga8af9a0d3fec7594a3b5177c07ccf4bab"></span><code class="descname">VIRTIO_CR_QVEC</code><a class="headerlink" href="#c.VIRTIO_CR_QVEC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_CFG0">
<span class="target" id="group__acrn__virtio_1gabaed1bbe16c4c9b88beff46afbb48636"></span><code class="descname">VIRTIO_CR_CFG0</code><a class="headerlink" href="#c.VIRTIO_CR_CFG0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_CFG1">
<span class="target" id="group__acrn__virtio_1ga926ef543b6fa7d5fe810c80841522b27"></span><code class="descname">VIRTIO_CR_CFG1</code><a class="headerlink" href="#c.VIRTIO_CR_CFG1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_MSIX">
<span class="target" id="group__acrn__virtio_1gac84b570827402b80c6a3d56c9388dfed"></span><code class="descname">VIRTIO_CR_MSIX</code><a class="headerlink" href="#c.VIRTIO_CR_MSIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_STATUS_ACK">
<span class="target" id="group__acrn__virtio_1ga2606c0e0935c042d66c5a1fd37f43e59"></span><code class="descname">VIRTIO_CR_STATUS_ACK</code><a class="headerlink" href="#c.VIRTIO_CR_STATUS_ACK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_STATUS_DRIVER">
<span class="target" id="group__acrn__virtio_1gac4866dc1e431362f92cd5bb9e66ed327"></span><code class="descname">VIRTIO_CR_STATUS_DRIVER</code><a class="headerlink" href="#c.VIRTIO_CR_STATUS_DRIVER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_STATUS_DRIVER_OK">
<span class="target" id="group__acrn__virtio_1gaef1f5c63dee3aa38f03441e4e302d521"></span><code class="descname">VIRTIO_CR_STATUS_DRIVER_OK</code><a class="headerlink" href="#c.VIRTIO_CR_STATUS_DRIVER_OK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_STATUS_FAILED">
<span class="target" id="group__acrn__virtio_1ga3b169f9ea692d123da7c7807b4fc862d"></span><code class="descname">VIRTIO_CR_STATUS_FAILED</code><a class="headerlink" href="#c.VIRTIO_CR_STATUS_FAILED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_ISR_QUEUES">
<span class="target" id="group__acrn__virtio_1gac130ad0f23fe7036ce89fee94eb7b2e3"></span><code class="descname">VIRTIO_CR_ISR_QUEUES</code><a class="headerlink" href="#c.VIRTIO_CR_ISR_QUEUES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_CR_ISR_CONF_CHANGED">
<span class="target" id="group__acrn__virtio_1gae0c1442d816f95615ee5b1df4aa46ab1"></span><code class="descname">VIRTIO_CR_ISR_CONF_CHANGED</code><a class="headerlink" href="#c.VIRTIO_CR_ISR_CONF_CHANGED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_MSI_NO_VECTOR">
<span class="target" id="group__acrn__virtio_1ga3fd15a0745ac8b7c405515c489273ace"></span><code class="descname">VIRTIO_MSI_NO_VECTOR</code><a class="headerlink" href="#c.VIRTIO_MSI_NO_VECTOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_F_NOTIFY_ON_EMPTY">
<span class="target" id="group__acrn__virtio_1ga43d62ae82f0dd90f649e1d4cb6979912"></span><code class="descname">VIRTIO_F_NOTIFY_ON_EMPTY</code><a class="headerlink" href="#c.VIRTIO_F_NOTIFY_ON_EMPTY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_RING_F_INDIRECT_DESC">
<span class="target" id="group__acrn__virtio_1gab01a363ce20422c5d9065269fbf3eccf"></span><code class="descname">VIRTIO_RING_F_INDIRECT_DESC</code><a class="headerlink" href="#c.VIRTIO_RING_F_INDIRECT_DESC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_RING_F_EVENT_IDX">
<span class="target" id="group__acrn__virtio_1gabaad7d994ac1bb57a3bd2d058cff5c7a"></span><code class="descname">VIRTIO_RING_F_EVENT_IDX</code><a class="headerlink" href="#c.VIRTIO_RING_F_EVENT_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_USE_MSIX">
<span class="target" id="group__acrn__virtio_1gae5d45f984eadd89b27e9e2891e704fb0"></span><code class="descname">VIRTIO_USE_MSIX</code><a class="headerlink" href="#c.VIRTIO_USE_MSIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_EVENT_IDX">
<span class="target" id="group__acrn__virtio_1gab6a5427211063a08f0ac90e7d5c940e0"></span><code class="descname">VIRTIO_EVENT_IDX</code><a class="headerlink" href="#c.VIRTIO_EVENT_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_BROKED">
<span class="target" id="group__acrn__virtio_1gac5a2764162efa1976300bcf54bf02ac8"></span><code class="descname">VIRTIO_BROKED</code><a class="headerlink" href="#c.VIRTIO_BROKED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_BASE_LOCK">
<span class="target" id="group__acrn__virtio_1ga2cc2a025e4b7a13c43b028832153e6b4"></span><code class="descname">VIRTIO_BASE_LOCK</code><span class="sig-paren">(</span>vb<span class="sig-paren">)</span><a class="headerlink" href="#c.VIRTIO_BASE_LOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VIRTIO_BASE_UNLOCK">
<span class="target" id="group__acrn__virtio_1ga5047ab07df87e3ac1449e8638b4379c5"></span><code class="descname">VIRTIO_BASE_UNLOCK</code><span class="sig-paren">(</span>vb<span class="sig-paren">)</span><a class="headerlink" href="#c.VIRTIO_BASE_UNLOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VQ_ALLOC">
<span class="target" id="group__acrn__virtio_1ga91c4f2baa3dd42a4e4fde5e487ec1985"></span><code class="descname">VQ_ALLOC</code><a class="headerlink" href="#c.VQ_ALLOC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VQ_BROKED">
<span class="target" id="group__acrn__virtio_1ga9ce15fc6decafc6f9ae6765301dc117d"></span><code class="descname">VQ_BROKED</code><a class="headerlink" href="#c.VQ_BROKED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VQ_AVAIL_EVENT_IDX">
<span class="target" id="group__acrn__virtio_1ga2fe20e6e7da0dce5f3c84a8d2f670294"></span><code class="descname">VQ_AVAIL_EVENT_IDX</code><span class="sig-paren">(</span>vq<span class="sig-paren">)</span><a class="headerlink" href="#c.VQ_AVAIL_EVENT_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="macro">
<dt id="c.VQ_USED_EVENT_IDX">
<span class="target" id="group__acrn__virtio_1ga4280966c3850aac2bf7c847e0db46f76"></span><code class="descname">VQ_USED_EVENT_IDX</code><span class="sig-paren">(</span>vq<span class="sig-paren">)</span><a class="headerlink" href="#c.VQ_USED_EVENT_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="function">
<dt id="_CPPv210vring_size5u_int">
<span id="vring_size__u_int"></span><span class="target" id="group__acrn__virtio_1gab8d8f86b5348a64a7014fd226a02ddce"></span><em class="property">static</em> size_t <code class="descname">vring_size</code><span class="sig-paren">(</span>u_int <em>qsz</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv210vring_size5u_int" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calculate size of a virtual ring. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>size of a certain virtqueue, in bytes. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">qsz</span></code>: Size of raw data in a certain virtqueue.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv213vq_ring_readyP14virtio_vq_info">
<span id="vq_ring_ready__virtio_vq_infoP"></span><span class="target" id="group__acrn__virtio_1ga67c4c8c9139dfc1bba8bb0ed619ec6f1"></span><em class="property">static</em> int <code class="descname">vq_ring_ready</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv213vq_ring_readyP14virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Is this ring ready for I/O? </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on not ready and 1 on ready. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv212vq_has_descsP14virtio_vq_info">
<span id="vq_has_descs__virtio_vq_infoP"></span><span class="target" id="group__acrn__virtio_1gab05f6c8928db0022f7a6173badd953c1"></span><em class="property">static</em> int <code class="descname">vq_has_descs</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv212vq_has_descsP14virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Are there “available” descriptors? </p>
<p>This does not count how many, just returns 1 if there is any.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on no available and 1 on available. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv212vq_interruptP11virtio_baseP14virtio_vq_info">
<span id="vq_interrupt__virtio_baseP.virtio_vq_infoP"></span><span class="target" id="group__acrn__virtio_1gab9ac943633756d546f493cdf599be2d0"></span><em class="property">static</em> void <code class="descname">vq_interrupt</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em>, <em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv212vq_interruptP11virtio_baseP14virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deliver an interrupt to guest on the given virtqueue. </p>
<p>The interrupt could be MSI-X or a generic MSI interrupt.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>NULL </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>. </li>
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv213virtio_linkupP11virtio_baseP10virtio_opsPvP8pci_vdevP14virtio_vq_info">
<span id="virtio_linkup__virtio_baseP.virtio_opsP.voidP.pci_vdevP.virtio_vq_infoP"></span><span class="target" id="group__acrn__virtio_1ga6ace12cb4aa61131ff38f82fbf4283d6"></span>void <code class="descname">virtio_linkup</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em>, <em class="property">struct</em> <a class="reference internal" href="#_CPPv210virtio_ops" title="virtio_ops">virtio_ops</a> *<em>vo</em>, void *<em>pci_virtio_dev</em>, <em class="property">struct</em> pci_vdev *<em>dev</em>, <em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>queues</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv213virtio_linkupP11virtio_baseP10virtio_opsPvP8pci_vdevP14virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Link a <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a> to its constants, the virtio device, and the PCI emulation. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>NULL </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>. </li>
<li><code class="docutils literal"><span class="pre">vo</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__ops"><span class="std std-ref">virtio_ops</span></a>. </li>
<li><code class="docutils literal"><span class="pre">pci_virtio_dev</span></code>: Pointer to instance of certain virtio device. </li>
<li><code class="docutils literal"><span class="pre">dev</span></code>: Pointer to struct pci_vdev which emulates a PCI device. </li>
<li><code class="docutils literal"><span class="pre">queues</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>, normally an array.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv221virtio_interrupt_initP11virtio_basei">
<span id="virtio_interrupt_init__virtio_baseP.i"></span><span class="target" id="group__acrn__virtio_1ga1fa7f5ab41918f9b084132e53a0b6a0e"></span>int <code class="descname">virtio_interrupt_init</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em>, int <em>use_msix</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv221virtio_interrupt_initP11virtio_basei" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize MSI-X vector capabilities if we’re to use MSI-X, or MSI capabilities if not. </p>
<p>Wrapper function for <a class="reference internal" href="#group__acrn__virtio_1gabc513026bc70dca4edf9ee7b077787f0"><span class="std std-ref">virtio_intr_init()</span></a> for cases we directly use BAR 1 for MSI-X capabilities.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on success and non-zero on fail. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>. </li>
<li><code class="docutils literal"><span class="pre">use_msix</span></code>: If using MSI-X.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv216virtio_intr_initP11virtio_baseii">
<span id="virtio_intr_init__virtio_baseP.i.i"></span><span class="target" id="group__acrn__virtio_1gabc513026bc70dca4edf9ee7b077787f0"></span>int <code class="descname">virtio_intr_init</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em>, int <em>barnum</em>, int <em>use_msix</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv216virtio_intr_initP11virtio_baseii" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize MSI-X vector capabilities if we’re to use MSI-X, or MSI capabilities if not. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>0 on success and non-zero on fail. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>. </li>
<li><code class="docutils literal"><span class="pre">barnum</span></code>: Which BAR[0..5] to use. </li>
<li><code class="docutils literal"><span class="pre">use_msix</span></code>: If using MSI-X.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv216virtio_reset_devP11virtio_base">
<span id="virtio_reset_dev__virtio_baseP"></span><span class="target" id="group__acrn__virtio_1ga085802fca1e7be61cadcc5df2f734b81"></span>void <code class="descname">virtio_reset_dev</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv216virtio_reset_devP11virtio_base" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset device (device-wide). </p>
<p>This erases all queues, i.e., all the queues become invalid. But we don’t wipe out the internal pointers, by just clearing the VQ_ALLOC flag.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv217virtio_set_io_barP11virtio_basei">
<span id="virtio_set_io_bar__virtio_baseP.i"></span><span class="target" id="group__acrn__virtio_1gaa10e850bd980285ff40f6f2e11dbeead"></span>void <code class="descname">virtio_set_io_bar</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv211virtio_base" title="virtio_base">virtio_base</a> *<em>vb</em>, int <em>barnum</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv217virtio_set_io_barP11virtio_basei" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set I/O BAR (usually 0) to map PCI config registers. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vb</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__base"><span class="std std-ref">virtio_base</span></a>. </li>
<li><code class="docutils literal"><span class="pre">barnum</span></code>: Which BAR[0..5] to use.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv211vq_getchainP14virtio_vq_infoP8uint16_tP5ioveciP8uint16_t">
<span id="vq_getchain__virtio_vq_infoP.uint16_tP.iovecP.i.uint16_tP"></span><span class="target" id="group__acrn__virtio_1ga6151242983e210464a81191ab08dc65e"></span>int <code class="descname">vq_getchain</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em>, uint16_t *<em>pidx</em>, <em class="property">struct</em> iovec *<em>iov</em>, int <em>n_iov</em>, uint16_t *<em>flags</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv211vq_getchainP14virtio_vq_infoP8uint16_tP5ioveciP8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Walk through the chain of descriptors involved in a request and put them into a given iov[] array. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>number of descriptors. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>. </li>
<li><code class="docutils literal"><span class="pre">pidx</span></code>: Pointer to available ring position. </li>
<li><code class="docutils literal"><span class="pre">iov</span></code>: Pointer to iov[] array prepared by caller. </li>
<li><code class="docutils literal"><span class="pre">n_iov</span></code>: Size of iov[] array. </li>
<li><code class="docutils literal"><span class="pre">flags</span></code>: Pointer to a uint16_t array which will contain flag of each descriptor.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv211vq_retchainP14virtio_vq_info">
<span id="vq_retchain__virtio_vq_infoP"></span><span class="target" id="group__acrn__virtio_1ga4ef2599c65a377ad557dbe22a740cae0"></span>void <code class="descname">vq_retchain</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv211vq_retchainP14virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return the currently-first request chain back to the available ring. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv211vq_relchainP14virtio_vq_info8uint16_t8uint32_t">
<span id="vq_relchain__virtio_vq_infoP.uint16_t.uint32_t"></span><span class="target" id="group__acrn__virtio_1ga16a059574b916608a272e33ba11ce919"></span>void <code class="descname">vq_relchain</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em>, uint16_t <em>idx</em>, uint32_t <em>iolen</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv211vq_relchainP14virtio_vq_info8uint16_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return specified request chain to the guest, setting its I/O length to the provided value. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>. </li>
<li><code class="docutils literal"><span class="pre">idx</span></code>: Pointer to available ring position, returned by <a class="reference internal" href="#group__acrn__virtio_1ga6151242983e210464a81191ab08dc65e"><span class="std std-ref">vq_getchain()</span></a>. </li>
<li><code class="docutils literal"><span class="pre">iolen</span></code>: Number of data bytes to be returned to frontend.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv212vq_endchainsP14virtio_vq_infoi">
<span id="vq_endchains__virtio_vq_infoP.i"></span><span class="target" id="group__acrn__virtio_1ga8f921c6bccf1b9770f16bcc8c0590698"></span>void <code class="descname">vq_endchains</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#_CPPv214virtio_vq_info" title="virtio_vq_info">virtio_vq_info</a> *<em>vq</em>, int <em>used_all_avail</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv212vq_endchainsP14virtio_vq_infoi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Driver has finished processing “available” chains and calling vq_relchain on each one. </p>
<p>If driver used all the available chains, used_all_avail need to be set to 1.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">vq</span></code>: Pointer to struct <a class="reference internal" href="#structvirtio__vq__info"><span class="std std-ref">virtio_vq_info</span></a>. </li>
<li><code class="docutils literal"><span class="pre">used_all_avail</span></code>: Flag indicating if driver used all available chains.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv215virtio_pci_readP5vmctxiP8pci_vdevi8uint64_ti">
<span id="virtio_pci_read__vmctxP.i.pci_vdevP.i.uint64_t.i"></span><span class="target" id="group__acrn__virtio_1ga870a59e709a2f2df8d189fbb9afc8977"></span>uint64_t <code class="descname">virtio_pci_read</code><span class="sig-paren">(</span><em class="property">struct</em> vmctx *<em>ctx</em>, int <em>vcpu</em>, <em class="property">struct</em> pci_vdev *<em>dev</em>, int <em>baridx</em>, uint64_t <em>offset</em>, int <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv215virtio_pci_readP5vmctxiP8pci_vdevi8uint64_ti" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Handle PCI configuration space reads. </p>
<p>Handle virtio standard register reads, and dispatch other reads to actual virtio device driver.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>register value. </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">ctx</span></code>: Pointer to struct vmctx representing VM context. </li>
<li><code class="docutils literal"><span class="pre">vcpu</span></code>: VCPU ID. </li>
<li><code class="docutils literal"><span class="pre">dev</span></code>: Pointer to struct pci_vdev which emulates a PCI device. </li>
<li><code class="docutils literal"><span class="pre">baridx</span></code>: Which BAR[0..5] to use. </li>
<li><code class="docutils literal"><span class="pre">offset</span></code>: Register offset in bytes within a BAR region. </li>
<li><code class="docutils literal"><span class="pre">size</span></code>: Access range in bytes.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv216virtio_pci_writeP5vmctxiP8pci_vdevi8uint64_ti8uint64_t">
<span id="virtio_pci_write__vmctxP.i.pci_vdevP.i.uint64_t.i.uint64_t"></span><span class="target" id="group__acrn__virtio_1ga7c84301965b6a744ffaa05c9534d3776"></span>void <code class="descname">virtio_pci_write</code><span class="sig-paren">(</span><em class="property">struct</em> vmctx *<em>ctx</em>, int <em>vcpu</em>, <em class="property">struct</em> pci_vdev *<em>dev</em>, int <em>baridx</em>, uint64_t <em>offset</em>, int <em>size</em>, uint64_t <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv216virtio_pci_writeP5vmctxiP8pci_vdevi8uint64_ti8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Handle PCI configuration space writes. </p>
<p>Handle virtio standard register writes, and dispatch other writes to actual virtio device driver.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd>N/A </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">ctx</span></code>: Pointer to struct vmctx representing VM context. </li>
<li><code class="docutils literal"><span class="pre">vcpu</span></code>: VCPU ID. </li>
<li><code class="docutils literal"><span class="pre">dev</span></code>: Pointer to struct pci_vdev which emulates a PCI device. </li>
<li><code class="docutils literal"><span class="pre">baridx</span></code>: Which BAR[0..5] to use. </li>
<li><code class="docutils literal"><span class="pre">offset</span></code>: Register offset in bytes within a BAR region. </li>
<li><code class="docutils literal"><span class="pre">size</span></code>: Access range in bytes. </li>
<li><code class="docutils literal"><span class="pre">value</span></code>: Data value to be written into register.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<dl class="class">
<dt id="_CPPv211virtio_base">
<span id="virtio_base"></span><span class="target" id="structvirtio__base"></span><em class="property">struct </em><code class="descname">virtio_base</code><a class="headerlink" href="#_CPPv211virtio_base" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;virtio.h&gt;</em><p>Base component to any virtio device. </p>
</dd></dl>

<dl class="class">
<dt id="_CPPv210virtio_ops">
<span id="virtio_ops"></span><span class="target" id="structvirtio__ops"></span><em class="property">struct </em><code class="descname">virtio_ops</code><a class="headerlink" href="#_CPPv210virtio_ops" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;virtio.h&gt;</em><p>Virtio specific operation functions for this type of virtio device. </p>
</dd></dl>

<dl class="class">
<dt id="_CPPv214virtio_vq_info">
<span id="virtio_vq_info"></span><span class="target" id="structvirtio__vq__info"></span><em class="property">struct </em><code class="descname">virtio_vq_info</code><a class="headerlink" href="#_CPPv214virtio_vq_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;virtio.h&gt;</em><p>Virtqueue data structure. </p>
<p>Data structure allocated (statically) per virtual queue.</p>
<p>Drivers may change qsize after a reset. When the guest OS requests a device reset, the hypervisor first calls vb-&gt;vo-&gt;reset(); then the data structure below is reinitialized (for each virtqueue: vb-&gt;vo-&gt;nvq).</p>
<p>The remaining fields should only be fussed-with by the generic code.</p>
<p>Note: the addresses of desc, avail, and vq_used are all computable from each other, but it’s a lot simpler if we just keep a pointer to each one. The event indices are similarly (but more easily) computable, and this time we’ll compute them: they’re just XX_ring[N]. </p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="hypercall_api.html" class="btn btn-neutral" title="Hypercall APIs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Project ACRN.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>